# Savanna Ecosystem Simulator

Симулятор экосистемы африканской саванны - игра-песочница с детерминированной симуляцией поведения животных.

## Описание

Игра моделирует живую экосистему с энергетическим балансом: солнце → трава → травоядные (зайцы) → хищники (волки).

### Ключевые особенности

- **Детерминированная симуляция**: один seed = одинаковый результат
- **Высокая производительность**: до 1000 животных при 60 FPS  
- **Изометрическая графика**: стиль StarCraft 1
- **Реалистичное поведение**: голод, размножение, охота, смерть

## Установка и запуск

### Требования

- Go 1.22+
- Make
- Для GUI версии: X11 (Linux), соответствующие системные библиотеки

### Быстрый старт

```bash
# Клонировать репозиторий
git clone https://github.com/aiseeq/savanna
cd savanna

# Показать доступные команды
make help

# Собрать проект
make build

# Запустить headless симуляцию
make run-headless

# Запустить GUI версию (требует X11)
make run
```

### Headless режим

```bash
# Базовый запуск на 60 секунд
./bin/savanna-headless

# Кастомные параметры
./bin/savanna-headless -duration=30s -rabbits=50 -wolves=5 -seed=123
```

## Структура проекта

```
savanna/
├── cmd/
│   ├── game/          # GUI версия (Ebiten)
│   └── headless/      # Консольная версия
├── internal/
│   ├── core/          # ECS архитектура
│   ├── simulation/    # Логика животных
│   ├── physics/       # Векторы, коллизии
│   ├── rendering/     # Графика (GUI)
│   └── generator/     # Генерация мира
├── config/            # Конфигурация
├── assets/            # Спрайты
├── tests/             # Тесты
└── scripts/           # Утилиты
```

## Разработка

### Команды Make

```bash
make build          # Собрать обе версии
make test           # Запустить все тесты
make fmt            # Форматировать код
make lint           # Проверить качество кода
make simulate       # Запустить симуляцию
make clean          # Очистить артефакты сборки
```

### Архитектура

- **ECS (Entity-Component-System)**: высокопроизводительная архитектура
- **SOA (Structure of Arrays)**: оптимизация кеша CPU
- **Детерминированность**: фиксированный timestep, seed-based генерация
- **Spatial Grid**: быстрый поиск соседей без аллокаций

## Статус разработки

### MVP (в разработке)

- [x] Базовая структура проекта
- [x] Makefile и конфигурация сборки  
- [x] Headless режим с заглушками
- [ ] ECS система
- [ ] Физика и математика
- [ ] Логика животных (зайцы, волки)
- [ ] Система питания (трава)
- [ ] GUI с изометрической графикой
- [ ] Тестирование и балансировка

### Целевые метрики

- 20-30 зайцев + 2-3 волка = стабильная популяция
- 10 минут симуляции без вымирания видов  
- 1000 животных при 60 FPS
- 100% детерминированность

## Лицензия

MIT License - см. LICENSE файл.

## Разработчики

Создано с помощью [Claude Code](https://claude.ai/code) в рамках эксперимента по агентной разработке игр.