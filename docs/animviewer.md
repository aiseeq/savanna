# Animation Viewer - Просмотрщик анимаций

Специальное приложение для просмотра и тестирования анимаций животных.

## Запуск

```bash
# Через Makefile (рекомендуется) - показывает анимации волка
make run-animviewer

# Напрямую - выбор животного
./bin/savanna-animviewer --show wolf     # анимации волка
./bin/savanna-animviewer --show hare     # анимации зайца
./bin/savanna-animviewer --show rabbit   # анимации зайца (синоним)
```

## Возможности

### Доступные анимации
- **Idle** (2 кадра, 2.0 FPS) - спокойное состояние, дыхание
- **Walk** (2 кадра, 4.0 FPS) - обычная ходьба
- **Run** (2 кадра, 12.0 FPS) - быстрый бег  
- **Attack** (2 кадра, 5.0 FPS) - атака
- **Eat** (2 кадра, 4.0 FPS) - поедание пищи
- **Sleep** (2 кадра, 1.5 FPS) - сон
- **Death** (2 кадра, 3.0 FPS) - смерть

### Поддерживаемые животные
- **Wolf** - волки (все анимации доступны)
- **Hare/Rabbit** - зайцы (все анимации доступны)

### Файлы анимаций
Каждая анимация состоит из 2 кадров:
```
assets/animations/
├── wolf_idle_1.png, wolf_idle_2.png       # Покой волка
├── wolf_walk_1.png, wolf_walk_2.png       # Ходьба волка  
├── wolf_run_1.png, wolf_run_2.png         # Бег волка
├── wolf_attack_1.png, wolf_attack_2.png   # Атака волка
├── wolf_eat_1.png, wolf_eat_2.png         # Еда волка
├── wolf_sleep_1.png, wolf_sleep_2.png     # Сон волка
├── wolf_dead_1.png, wolf_dead_2.png       # Смерть волка
├── hare_idle_1.png, hare_idle_2.png       # Покой зайца
├── hare_walk_1.png, hare_walk_2.png       # Ходьба зайца
├── hare_run_1.png, hare_run_2.png         # Бег зайца
├── hare_attack_1.png, hare_attack_2.png   # Атака зайца
├── hare_eat_1.png, hare_eat_2.png         # Еда зайца
├── hare_sleep_1.png, hare_sleep_2.png     # Сон зайца
└── hare_dead_1.png, hare_dead_2.png       # Смерть зайца
```

### Управление

| Клавиша | Действие |
|---------|----------|
| ← → | Переключение между анимациями |
| + - | Ускорение/замедление анимации |
| Колесо мыши | Масштабирование |
| Пробел | Пауза/продолжить |
| R | Перезапуск текущей анимации |
| ESC | Выход |

### Информация на экране
- Название текущей анимации
- Номер текущего кадра
- FPS анимации
- Зацикленная ли анимация
- Текущая скорость воспроизведения
- Текущий масштаб

## Технические детали

### Формат спрайт-листов
- Размер кадра: 32x32 пикселя
- Организация: сетка (2x2, 3x3, 4x4 и т.д.)
- Формат: PNG с прозрачностью
- Стиль: изометрическая пиксель-арт

### Поддерживаемые количества кадров
- 2 кадра → сетка 2x1 (текущие анимации)
- 4 кадра → сетка 2x2
- 6 кадров → сетка 3x2  
- 8 кадров → сетка 4x2
- 9 кадров → сетка 3x3
- 16 кадров → сетка 4x4
- 25 кадров → сетка 5x5

### Добавление новых анимаций

1. Поместите спрайт-лист в папку `assets/animations/`
2. Зарегистрируйте анимацию в `createTestAnimations()`
3. Пересоберите приложение

```go
av.animSystem.RegisterAnimation(
    animation.ANIM_NEW, 
    frameCount,    // количество кадров
    fps,          // кадров в секунду
    loop,         // зацикленная ли
    spriteSheet   // загруженный спрайт-лист
)
```

## Примеры использования

### Тестирование новых анимаций
```bash
# Посмотреть анимации волка
make run-animviewer

# Посмотреть анимации зайца  
./bin/savanna-animviewer --show hare
./bin/savanna-animviewer --show rabbit
```

### Настройка скорости анимации
- Используйте + и - для подбора оптимальной скорости
- Скорость влияет только на воспроизведение, не на FPS анимации
- Диапазон: x0.125 до x8.0

### Проверка зацикливания
- Зацикленные анимации (Idle, Walk, Sleep Loop) воспроизводятся бесконечно
- Не зацикленные (Attack, Eat, Death) останавливаются на последнем кадре
- Используйте R для перезапуска анимации

## Интеграция с основной игрой

Просмотрщик использует ту же систему анимаций что и основная игра:
- `internal/animation/system.go` - ядро системы анимаций
- Компоненты ECS для анимации
- Единый формат спрайт-листов